<div class="container mt-4" *ngIf="!loading && player">
  <div class="player-detail-card p-4 shadow-lg rounded-4 mb-4">
    
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="player-name">{{ player.long_name }}</h2>
      <div>
        <button class="btn btn-edit me-2" (click)="editarJugador()">
          <i class="fa fa-pen"></i> Editar
        </button>
        <button class="btn btn-delete" (click)="eliminar()">
          <i class="fa fa-trash"></i> Eliminar
        </button>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-4 text-center">
        <div class="player-img-container">
          <img [src]="player.player_face_url" alt="Foto jugador" class="img-fluid" />
        </div>
        <h5 class="mt-3 position-badge">{{ player.player_positions }}</h5>
        <p class="club-name"><i class="fa fa-shield"></i> {{ player.club_name || 'Sin club' }}</p>
        <p class="nation-name"><i class="fa fa-flag"></i> {{ player.nationality_name || 'N/A' }}</p>
      </div>

      <div class="col-md-8">
        <div class="info-section mb-4">
          <h4>Datos generales</h4>
          <div class="row">
            <div class="col-sm-6">
              <p><strong>Edad:</strong> {{ player.age }}</p>
              <p><strong>Altura:</strong> {{ player.height_cm }} cm</p>
              <p><strong>Peso:</strong> {{ player.weight_kg }} kg</p>
            </div>
            <div class="col-sm-6">
              <p><strong>Pie preferido:</strong> {{ player.preferred_foot }}</p>
              <p><strong>Work rate:</strong> {{ player.work_rate }}</p>
            </div>
          </div>
        </div>

        <div class="info-section">
          <h4>Estad√≠sticas principales</h4>
          <div class="stats-grid">
            <div class="stat-box">OVR <span>{{ player.overall }}</span></div>
            <div class="stat-box">POT <span>{{ player.potential }}</span></div>
            <div class="stat-box">PAC <span>{{ player.pace }}</span></div>
            <div class="stat-box">SHO <span>{{ player.shooting }}</span></div>
            <div class="stat-box">PAS <span>{{ player.passing }}</span></div>
            <div class="stat-box">DRI <span>{{ player.dribbling }}</span></div>
            <div class="stat-box">DEF <span>{{ player.defending }}</span></div>
            <div class="stat-box">PHY <span>{{ player.physic }}</span></div>
          </div>
        </div>

        <div class="chart-container mt-4">
          <canvas baseChart
          [data]="radarChartData"
          [options]="radarChartOptions"
          [type]="radarChartType">
          </canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading" class="text-center mt-5">
  <div class="spinner-border text-light"></div>
</div>

<div *ngIf="error && !loading" class="alert alert-danger mt-4">{{ error }}</div>
